{"code":"import { to, useSpring } from \"@react-spring/web\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { adjust, clamp, round } from \"../helpers/Math\";\r\nexport function useHolographicEffect(_showcase) {\r\n    if (_showcase === void 0) { _showcase = false; }\r\n    var _a = useState(false), isMobile = _a[0], setIsMobile = _a[1];\r\n    var _b = useState(false), isActive = _b[0], setIsActive = _b[1];\r\n    var _c = useState(false), isInteracting = _c[0], setIsInteracting = _c[1];\r\n    var _d = useState(true), isLoading = _d[0], setIsLoading = _d[1];\r\n    var _e = useState(true), isVisible = _e[0], setIsVisible = _e[1];\r\n    var springInteractSetting = {\r\n        stiffness: 0.066,\r\n        damping: 0.25,\r\n    };\r\n    var springPopoverSetting = {\r\n        stiffness: 0.033,\r\n        damping: 0.45,\r\n    };\r\n    var _f = useSpring(function () { return ({\r\n        from: { x: 0, y: 0 },\r\n        config: springInteractSetting,\r\n    }); }), springRotate = _f[0], setSpringRotate = _f[1];\r\n    var _g = useSpring(function () { return ({\r\n        from: { x: 50, y: 50, o: 0 },\r\n        config: springInteractSetting,\r\n    }); }), springGlare = _g[0], setSpringGlare = _g[1];\r\n    var _h = useSpring(function () { return ({\r\n        x: 50,\r\n        y: 50,\r\n        config: springInteractSetting,\r\n    }); }), springBackground = _h[0], setSpringBackground = _h[1];\r\n    var _j = useSpring(function () { return ({\r\n        x: 0,\r\n        y: 0,\r\n        config: springPopoverSetting,\r\n    }); }), springRotateDelta = _j[0], setSpringRotateDelta = _j[1];\r\n    var updateSprings = function (background, rotate, glare) {\r\n        setSpringBackground(background);\r\n        setSpringRotate(rotate);\r\n        setSpringGlare(glare);\r\n    };\r\n    var handleInteract = function (e) {\r\n        if (!isVisible || isMobile)\r\n            return;\r\n        setIsInteracting(true);\r\n        var clientX = e.clientX;\r\n        var clientY = e.clientY;\r\n        var target = e.currentTarget;\r\n        var rect = target.getBoundingClientRect();\r\n        var absolute = {\r\n            x: clientX - rect.left,\r\n            y: clientY - rect.top,\r\n        };\r\n        var percent = {\r\n            x: clamp(round((100 / rect.width) * absolute.x)),\r\n            y: clamp(round((100 / rect.height) * absolute.y)),\r\n        };\r\n        var center = {\r\n            x: percent.x - 50,\r\n            y: percent.y - 50,\r\n        };\r\n        updateSprings({\r\n            x: adjust(percent.x, 0, 100, 37, 63),\r\n            y: adjust(percent.y, 0, 100, 33, 67),\r\n        }, {\r\n            x: round(-(center.x / 3.5)),\r\n            y: round(center.y / 2),\r\n        }, {\r\n            x: round(percent.x),\r\n            y: round(percent.y),\r\n            o: 1,\r\n        });\r\n    };\r\n    var handleInteractEnd = function (delay) {\r\n        if (delay === void 0) { delay = 500; }\r\n        setTimeout(function () {\r\n            var snapSetting = { stiffness: 0.01, damping: 0.06 };\r\n            setIsInteracting(false);\r\n            setSpringRotate({ x: 0, y: 0, config: snapSetting });\r\n            setSpringGlare({ x: 50, y: 50, o: 0, config: snapSetting });\r\n            setSpringBackground({ x: 50, y: 50, config: snapSetting });\r\n        }, delay);\r\n    };\r\n    var retreat = function () {\r\n        setSpringRotateDelta({ x: 0, y: 0 });\r\n        handleInteractEnd(100);\r\n    };\r\n    useEffect(function () {\r\n        setIsMobile(/Mobi|Android/i.test(navigator.userAgent));\r\n        setIsVisible(document.visibilityState === \"visible\");\r\n        var handleVisibilityChange = function () {\r\n            setIsVisible(document.visibilityState === \"visible\");\r\n            retreat();\r\n        };\r\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\r\n        return function () {\r\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\r\n        };\r\n    }, []);\r\n    var springStyle = {\r\n        \"--pointer-x\": to(springGlare.x, function (x) { return \"\".concat(x, \"%\"); }),\r\n        \"--pointer-y\": to(springGlare.y, function (y) { return \"\".concat(y, \"%\"); }),\r\n        \"--pointer-from-center\": to([springGlare.x, springGlare.y], function (x, y) {\r\n            return clamp(Math.sqrt(Math.pow((y - 50), 2) + Math.pow((x - 50), 2)) / 50, 0, 1);\r\n        }),\r\n        \"--pointer-from-top\": to(springGlare.y, function (y) { return y / 100; }),\r\n        \"--pointer-from-left\": to(springGlare.x, function (x) { return x / 100; }),\r\n        \"--card-opacity\": springGlare.o,\r\n        \"--rotate-x\": to([springRotate.x, springRotateDelta.x], function (x, dx) { return \"\".concat(x + dx, \"deg\"); }),\r\n        \"--rotate-y\": to([springRotate.y, springRotateDelta.y], function (y, dy) { return \"\".concat(y + dy, \"deg\"); }),\r\n        \"--background-x\": to(springBackground.x, function (x) { return \"\".concat(x, \"%\"); }),\r\n        \"--background-y\": to(springBackground.y, function (y) { return \"\".concat(y, \"%\"); }),\r\n    };\r\n    return {\r\n        isMobile: isMobile,\r\n        isActive: isActive,\r\n        isInteracting: isInteracting,\r\n        isLoading: isLoading,\r\n        setIsActive: setIsActive,\r\n        setIsLoading: setIsLoading,\r\n        handleInteract: handleInteract,\r\n        handleInteractEnd: handleInteractEnd,\r\n        retreat: retreat,\r\n        springStyle: springStyle,\r\n    };\r\n}\r\n//# sourceMappingURL=useHolographicEffect.js.map","references":["C:/Users/BlueMadness/Documents/GitHub/HoloCard/node_modules/@react-spring/web/dist/react-spring_web.modern.d.mts","C:/Users/BlueMadness/Documents/GitHub/HoloCard/node_modules/@types/react/ts5.0/index.d.ts","C:/Users/BlueMadness/Documents/GitHub/HoloCard/src/helpers/Math.ts"],"map":"{\"version\":3,\"file\":\"useHolographicEffect.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/hooks/useHolographicEffect.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"C:/Users/BlueMadness/Documents/GitHub/HoloCard/node_modules/.cache/rollup-plugin-typescript2/placeholder/hooks/useHolographicEffect.d.ts","writeByteOrderMark":false,"text":"import React from \"react\";\r\nexport declare function useHolographicEffect(_showcase?: boolean): {\r\n    isMobile: boolean;\r\n    isActive: boolean;\r\n    isInteracting: boolean;\r\n    isLoading: boolean;\r\n    setIsActive: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n    handleInteract: (e: React.MouseEvent) => void;\r\n    handleInteractEnd: (delay?: number) => void;\r\n    retreat: () => void;\r\n    springStyle: React.CSSProperties & {\r\n        [key: string]: any;\r\n    };\r\n};\r\n"}}
